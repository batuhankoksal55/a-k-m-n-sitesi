<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Günün Mesajı</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

*{
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background-image: url("içerikler/güll.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: #eee;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 15px;
}

.box {
  width: 100%;
  max-width: 600px;
  padding: 25px;
  text-align: center;
  background: rgba(0,0,0,0.65);
  backdrop-filter: blur(5px);
  border-radius: 14px;
}

/* Yazılar */

.box p{
  font-size: 17px;
  line-height: 1.6;
}

/* Buton */

button {
  margin-top: 20px;
  padding: 14px;
  width: 100%;
  max-width: 280px;
  background: #1c1c1c;
  border: 1px solid #333;
  color: #eee;
  cursor: pointer;
  border-radius: 10px;
  font-size: 16px;
}

/* Mesaj alanı */

#mesaj {
  margin-top: 25px;
  line-height: 1.7;
  font-size: 16px;
  max-height: 45vh;
  overflow-y: auto;
  padding: 10px;
}

/* Scroll güzelleştirme */

#mesaj::-webkit-scrollbar{
  width: 6px;
}

#mesaj::-webkit-scrollbar-thumb{
  background: #888;
  border-radius: 4px;
}

/* Mobil ayar */

@media (max-width:480px){

  .box{
    padding: 20px;
  }

  .box p{
    font-size: 15px;
  }

  #mesaj{
    font-size: 15px;
  }

}

</style>
</head>

<body>

<div class="box">

  <p>
  Sana gül yapraklı bir kavanoz vermek isterdim ama böylesi daha iyi olabilir diye düşündüm.
  Her an bir şey demeden üzülebiliyor ve bazen bana diyemiyorsun.
  Buraya 365 tane mesaj koydum. Her gün bir tanesine bakıp mutlu ol diye.
  Umarım hiç üzgün olmazsın. ❤️
  </p>

  <button onclick="mesajVer()">Mutluluk için tıkla ❤️</button>

  <div id="mesaj"></div>

</div>

<script>

const tumMesajlar = [
"Seninle olmak, hayatın acele etmeden güzel olabileceğini öğretti.",
"Bizim hikâyemiz yüksek sesle değil, kalpten anlatılan bir masal gibi.",
"Yanında susabilmek, konuşabildiğim en uzun cümle aslında.",
"Biz birbirimizi tamamlamıyoruz, biz birbirimizi büyütüyoruz.",
"Hayat bana birçok yol gösterdi ama ben yönümü sende buldum.",
"Seninle geçen zaman, saatten değil kalpten ölçülüyor.",
"Sevgi bazen bir bakışta saklanır, biz o bakışı birbirimizde bulduk.",
"Biz tartışsak bile aynı cümlenin içinde kalmayı başaran iki insanız.",
"Sen hayatıma gelmedin, hayatımın anlamını değiştirdin.",
"Ben seni sevmeyi öğrenmedim, seninle severek yaşamayı öğrendim.",
"Birlikte yürüdüğümüz yolun nereye çıktığı değil, birlikte yürümemiz değerli.",
"Sen benim huzurla kurduğum en güzel hayalsin."
];

function mesajVer() {

  const alan = document.getElementById("mesaj");

  const bugun = new Date().toDateString();
  let verilenler = JSON.parse(localStorage.getItem("verilenMesajlar")) || [];
  let sonGun = localStorage.getItem("sonMesajGunu");

  if (sonGun === bugun) {
    alan.innerText = "Bugün mesajını zaten aldın. Mutlu olmak için benimle vakit geçirmek de bir seçenek ❤️";
    return;
  }

  if (verilenler.length >= tumMesajlar.length) {
    alan.innerText = "Tüm mesajlar tamamlandı ❤️";
    return;
  }

  const kalanIndexler = [];

  for (let i = 0; i < tumMesajlar.length; i++) {
    if (!verilenler.includes(i)) {
      kalanIndexler.push(i);
    }
  }

  const secilenIndex =
    kalanIndexler[Math.floor(Math.random() * kalanIndexler.length)];

  verilenler.push(secilenIndex);

  localStorage.setItem("verilenMesajlar", JSON.stringify(verilenler));
  localStorage.setItem("sonMesajGunu", bugun);

  alan.innerText = tumMesajlar[secilenIndex];
}

</script>

</body>
</html>
